{"version":3,"sources":["webpack:///./src/style/img/logo.png","webpack:///./src/views/login.vue?e656","webpack:///./src/views/login.vue?8403","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?2e0e","webpack:///./src/views/login.vue"],"names":["module","exports","__webpack_require__","p","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_5095ced6_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_5095ced6_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","height","directives","name","rawName","value","expression","id","type","placeholder","domProps","on","input","$event","target","composing","phone","disabled","time","click","getcode","smsCode","login","_v","staticRenderFns","loginvue_type_script_lang_js_","data","Stopit","methods","countDown","url","dete","axios","post","then","res","console","log","_this","judgephone","code","setInterval","a","clearInterval","phoneReg","test","alert","_this2","date","$store","commit","user","sessionToken","$router","push","views_loginvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-5af9ad29.7cc899c3.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/logo.19ca0be2.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=5095ced6&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=5095ced6&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{},[_c('img',{staticClass:\"h60\",attrs:{\"src\":require(\"../style/img/logo.png\"),\"height\":\"60px\"}}),_c('div',{},[_c('div',{staticClass:\"handset ml-20 mr-20 flex jc-sb pb-5\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],staticClass:\"f14\",attrs:{\"id\":\"phone\",\"type\":\"text\",\"placeholder\":\"手机号\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value}}}),_c('input',{staticClass:\"  gray f12 bg-fff\",attrs:{\"disabled\":_vm.disabled,\"type\":\"button\",\"value\":_vm.time},on:{\"click\":_vm.getcode}})]),_c('div',{staticClass:\" handset ml-20 mr-20 flex jc-sb mt-20 pb-5\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.smsCode),expression:\"smsCode\"}],staticClass:\"f14\",attrs:{\"placeholder\":\"验证码\"},domProps:{\"value\":(_vm.smsCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.smsCode=$event.target.value}}})]),_c('button',{staticClass:\"butt ml-20 mr-20 fff\",on:{\"click\":_vm.login}},[_vm._v(\"登录\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <header class=\"\">\r\n        <img class=\"h60\" src=\"../style/img/logo.png\" height=\"60px\">\r\n        <div class=\"\">\r\n            <!-- 手机号码 -->\r\n            <div class=\"handset ml-20 mr-20 flex jc-sb pb-5\">\r\n                <input id=\"phone\" class=\"f14\" type=\"text\" placeholder=\"手机号\" v-model=\"phone\">\r\n                <!-- 获取验证码 -->\r\n                <input :disabled='disabled' class=\"  gray f12 bg-fff\" type=\"button\" :value=\"time\" @click=\"getcode\">\r\n            </div>\r\n            <!-- 验证码 -->\r\n            <div class=\" handset ml-20 mr-20 flex jc-sb mt-20 pb-5\">\r\n                <input class=\"f14\" placeholder=\"验证码\" v-model=\"smsCode\">\r\n            </div>\r\n\r\n            <!-- 登录 -->\r\n            <button class=\"butt ml-20 mr-20 fff\" @click=\"login\">登录</button>\r\n        </div>\r\n    </header>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\ndata(){\r\n    return{\r\n        phone:'13800000000',\r\n        smsCode:'111313',\r\n        time:'获取验证码',\r\n        disabled:false,\r\n        Stopit:true\r\n\r\n    }\r\n},\r\nmethods:{\r\n    // 获取验证码请求\r\n    getcode(){\r\n        //倒计时函数调用\r\n        this. countDown()\r\n    let url= 'http://132.232.94.151:3000/api/user/getSmsCode'\r\n    let dete={\r\n        phone:this.phone\r\n    }\r\n    this.axios.post(url,dete).then(res=>{\r\n        console.log(res)\r\n    })\r\n    },\r\n    // 倒计时\r\n    countDown(){\r\n       if (!this.judgephone()){\r\n           return false\r\n       }\r\n        this.time=15\r\n        this.disabled=true\r\n    let code =setInterval(()=>{\r\n         let a=this.time--\r\n         if(a===1){\r\n             clearInterval(code)\r\n             this.time='重新获取验证码'\r\n             this.disabled=false\r\n         }\r\n    },300)\r\n    },\r\n    //判断手机号\r\n    judgephone(){\r\n        //手机号正则\r\n        var phoneReg = /^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/;\r\n        if (!this.phone) {\r\n            alert('手机号码为空')\r\n            return false;\r\n        }\r\n        if (!phoneReg.test(this.phone)) {\r\n            alert('手机号不正确')\r\n            return false;\r\n        }\r\n        return true\r\n    },\r\n\r\n\r\n    //登录请求发送\r\n    login(){\r\n        \r\n        if (!this.judgephone()){\r\n           return false\r\n       }\r\n        let url='http://132.232.94.151:3000/api/user/loginBySmsCode';\r\n        let date={\r\n            phone:this.phone,\r\n            smsCode:this.smsCode\r\n        };\r\n        if (this.Stopit){\r\n            this.Stopit=false;\r\n            this.axios.post(url,date).then(res=>{\r\n        //    console.log(res)\r\n           if(res.data.code==='666'){\r\n               this.$store.commit('updatephone',this.phone)\r\n               this.$store.commit('updateisLoing',false)\r\n               this.$store.commit('upsessionToken',res.data.user.sessionToken)\r\n               this.$router.push('/my')\r\n               \r\n               \r\n           }else{\r\n            alert('验证码错误')\r\n           }\r\n        })\r\n        \r\n        setInterval(()=>{\r\n                this.Stopit=true;//防止连续点击开关\r\n                },3000);\r\n     \r\n        }\r\n        \r\n\r\n    }\r\n}\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.gray {\r\n    color: #797d82;\r\n}\r\n\r\nbody {\r\n    background-color: #fff;\r\n}\r\n\r\n// 手机号码\r\nheader {\r\n    text-align: center;\r\n\r\n    img {\r\n        margin: 79px auto;\r\n    }\r\n\r\n    // 验证码\r\n    .handset {\r\n        border-bottom: 1px solid #f8f8f8;\r\n\r\n        input {\r\n            border: none;\r\n            outline: none;\r\n        }\r\n    }\r\n\r\n    // 登录按钮\r\n    .butt {\r\n        margin-top: 20px;\r\n        border-radius: 3px;\r\n        background-color: #ff5f16;\r\n        width: calc((260vw - 5px)/3);\r\n        height: 40px;\r\n        border: none;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=5095ced6&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=5095ced6&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5095ced6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}